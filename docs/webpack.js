(()=>{async function e(e){let o=e.target.innerText,l=(await n()).filter((e=>e.genres.includes(o)));l.length>0?t(l[Math.floor(Math.random()*l.length)]):console.log("no shows found for this genre")}async function n(){let e=await fetch("https://api.tvmaze.com/shows");return await e.json()}function t(e){let n=document.getElementById("poster");console.log(e),n.src=e.image.original,function(e){let n=document.getElementById("title"),t=document.getElementById("description"),o=document.getElementById("rating");n.innerText=e.name,t.innerHTML=e.summary,o.innerText=`${e.rating.average}/10`;let l=document.getElementById("info"),c=document.createElement("i");c.classList="fas fa-plus-circle color-white",c.onclick=function(){addToMyList(e)},l.appendChild(c)}(e)}document.querySelectorAll(".genre").forEach((n=>n.onclick=e)),window.onload=async function(){let e=await n();console.log(e),t(e[0])}})(),(()=>{const e="https://api.tvmaze.com/";async function n(e){let n=e.target.innerText;console.log(n);let l=await t();l=l.filter((e=>e.genres.includes(n))),o(Math.min(l.length,25),l)}async function t(){let n=await fetch(`${e}shows`);return await n.json()}function o(e,n){let t=document.getElementById("allShows");t.innerHTML="";for(let o=0;o<e;o++){let e=createShow(n[o],!0,!1,!1);t.appendChild(e)}}document.querySelectorAll(".genre").forEach((e=>e.onclick=n)),window.onload=async function(){let e=await t();o(Math.min(e.length,25),e)},document.getElementById("searchBtn").onclick=async function(n){let t=document.getElementById("searchInput").value;if(""!=t){let n=await async function(n){let t=await fetch(`${e}search/shows?q=${n}`);return await t.json()}(t);n=n.map((e=>e.show)),console.log(n),o(25,n)}}})(),(()=>{function e(e){let n=document.getElementById("allShows");n.innerHTML="";for(let t of e)n.appendChild(createShow(t,!1,!0,!0))}async function n(n){let t=n.target.innerText,o=(await getMyShows()).filter((e=>e.genres.includes(t)));o.length>0?e(o):console.log("no shows found for this genre")}window.onload=async function(){e(await getMyShows())},document.querySelectorAll(".genre").forEach((e=>e.onclick=n))})(),(()=>{async function e(e){let l=e.target.innerText,c=await t();c=c.filter((e=>e.genres.includes(l))),o(25,n(c))}function n(e){return e.sort(((e,n)=>n.rating.average-e.rating.average))}async function t(){let e=await fetch("https://api.tvmaze.com/shows");return await e.json()}function o(e,n){let t=document.getElementById("popularShows");t.innerHTML="";for(let o=0;o<e;o++){let e=createShow(n[o],!0,!1,!1);t.appendChild(e)}}document.querySelectorAll(".genre").forEach((n=>n.onclick=e)),window.onload=async function(){o(25,n(await t()))}})(),document.getElementById("popup-close").onclick=function(){document.getElementById("popup").style.display="none"},(()=>{async function e(e){let o=e.target.innerText,l=(await n()).filter((e=>e.genres.includes(o)));l.length>0?t(l[Math.floor(Math.random()*l.length)]):console.log("no shows found for this genre")}async function n(){let e=await fetch("https://api.tvmaze.com/shows");return await e.json()}function t(e){let n=document.getElementById("poster");console.log(e),n.src=e.image.original,function(e){let n=document.getElementById("title"),t=document.getElementById("description"),o=document.getElementById("rating");n.innerText=e.name,t.innerHTML=e.summary,o.innerText=`${e.rating.average}/10`;let l=document.getElementById("info"),c=document.createElement("i");c.classList="fas fa-plus-circle color-white",c.onclick=function(){addToMyList(e)},l.appendChild(c)}(e)}document.querySelectorAll(".genre").forEach((n=>n.onclick=e)),window.onload=async function(){let e=await n();console.log(e),t(e[0])}})();