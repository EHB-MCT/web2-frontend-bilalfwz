/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_exports__={};(()=>{async function e(e){let o=e.target.innerText,l=(await n()).filter((e=>e.genres.includes(o)));l.length>0?t(l[Math.floor(Math.random()*l.length)]):console.log("no shows found for this genre")}async function n(){let e=await fetch("https://api.tvmaze.com/shows");return await e.json()}function t(e){let n=document.getElementById("poster");console.log(e),n.src=e.image.original,function(e){let n=document.getElementById("title"),t=document.getElementById("description"),o=document.getElementById("rating");n.innerText=e.name,t.innerHTML=e.summary,o.innerText=`${e.rating.average}/10`;let l=document.getElementById("info"),s=document.createElement("i");s.classList="fas fa-plus-circle color-white",s.onclick=function(){addToMyList(e)},l.appendChild(s)}(e)}document.querySelectorAll(".genre").forEach((n=>n.onclick=e)),window.onload=async function(){let e=await n();console.log(e),t(e[0])}})(),(()=>{const e="https://api.tvmaze.com/";async function n(e){let n=e.target.innerText;console.log(n);let l=await t();l=l.filter((e=>e.genres.includes(n))),o(Math.min(l.length,25),l)}async function t(){let n=await fetch(`${e}shows`);return await n.json()}function o(e,n){let t=document.getElementById("allShows");t.innerHTML="";for(let o=0;o<e;o++){let e=createShow(n[o],!0,!1,!1);t.appendChild(e)}}document.querySelectorAll(".genre").forEach((e=>e.onclick=n)),window.onload=async function(){let e=await t();o(Math.min(e.length,25),e)},document.getElementById("searchBtn").onclick=async function(n){let t=document.getElementById("searchInput").value;if(""!=t){let n=await async function(n){let t=await fetch(`${e}search/shows?q=${n}`);return await t.json()}(t);n=n.map((e=>e.show)),console.log(n),o(25,n)}}})(),(()=>{function e(e){let n=document.getElementById("allShows");n.innerHTML="";for(let t of e)n.appendChild(createShow(t,!1,!0,!0))}async function n(n){let t=n.target.innerText,o=(await getMyShows()).filter((e=>e.genres.includes(t)));o.length>0?e(o):console.log("no shows found for this genre")}window.onload=async function(){e(await getMyShows())},document.querySelectorAll(".genre").forEach((e=>e.onclick=n))})(),(()=>{async function e(e){let l=e.target.innerText,s=await t();s=s.filter((e=>e.genres.includes(l))),o(25,n(s))}function n(e){return e.sort(((e,n)=>n.rating.average-e.rating.average))}async function t(){let e=await fetch("https://api.tvmaze.com/shows");return await e.json()}function o(e,n){let t=document.getElementById("popularShows");t.innerHTML="";for(let o=0;o<e;o++){let e=createShow(n[o],!0,!1,!1);t.appendChild(e)}}document.querySelectorAll(".genre").forEach((n=>n.onclick=e)),window.onload=async function(){o(25,n(await t()))}})(),document.getElementById("popup-close").onclick=function(){document.getElementById("popup").style.display="none"},(()=>{(()=>{var __webpack_modules__={"./src/script.js":()=>{eval('const baseUrl = "https://api.tvmaze.com/"\ndocument.querySelectorAll(".genre").forEach(e => e.onclick = filterByGenre)\nwindow.onload = setup\n\nasync function setup() {\n    let shows = await getShows()\n    console.log(shows)\n    renderHomePage(shows[0])\n}\n\nasync function filterByGenre(e) {\n    let genre = e.target.innerText\n    let shows = await getShows()\n    let filteredShows = shows.filter(s => s.genres.includes(genre))\n    if (filteredShows.length > 0) {\n        let showId = Math.floor(Math.random() * filteredShows.length)\n        renderHomePage(filteredShows[showId])\n    } else {\n        console.log("no shows found for this genre")\n    }\n}\n\nasync function getShows() {\n    let response = await fetch(`${baseUrl}shows`)\n    let result = await response.json()\n    return result\n}\n\nfunction renderHomePage(show) {\n    let poster = document.getElementById("poster")\n    poster.src = show.image.original\n    setShowInfo(show)\n}\n\nfunction setShowInfo(show) {\n    let title = document.getElementById("title")\n    let rating = document.getElementById("rating")\n    let description = document.getElementById("description")\n\n\n    title.innerText = show.name\n    rating.innerText = `${show.rating.average}/10`\n    description.innerHTML = show.summary\n\n}\n\nconsole.log(\'this is\');\n\n//# sourceURL=webpack://web2-frontend-bilalfwz/./src/script.js?')}},__webpack_exports__={};__webpack_modules__["./src/script.js"]()})()})()})();